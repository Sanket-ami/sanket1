{% extends 'base.html' %}
{% load static %}
{% load sass_tags %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

{% block content %}
    <br>
    <nav>
        <ul class="pagination pagination-primary pagin-border-primary">
            {% if paginated_logs.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?campaign_id={{ campaign_id }}&page={{ paginated_logs.previous_page_number }}&per_page=10&call_status={{ call_status }}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            {% endif %}
    
            {% for i in paginated_logs.paginator.page_range %}
            <li class="page-item {% if i == paginated_logs.number %}active{% endif %}">
                <a class="page-link" href="?campaign_id={{ campaign_id }}&page={{ i }}&per_page=10&call_status={{ call_status }}">{{ i }}</a>
            </li>
            {% endfor %}
    
            {% if paginated_logs.has_next %}
            <li class="page-item">
                <a class="page-link" href="?campaign_id={{ campaign_id }}&page={{ paginated_logs.next_page_number }}&per_page=10&call_status={{ call_status }}" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
            {% endif %}
        </ul>
    </nav>

    <div class="container mt-3">
        <form class="row g-3" method="get" action="">
            <div class="col-md-4">
                <label for="start_date" class="form-label">Start Date</label>
                <input type="date" class="form-control" id="start_date" name="start_date" value="{{ request.GET.start_date }}">
            </div>
            <div class="col-md-4">
                <label for="end_date" class="form-label">End Date</label>
                <input type="date" class="form-control" id="end_date" name="end_date" value="{{ request.GET.end_date }}">
            </div>
            <div class="col-md-4 d-flex align-items-end">
                <button type="submit" class="btn btn-primary">Filter</button>
            </div>
        </form>

        <div class="mt-3">
            <a href="?campaign_id={{ campaign_id }}&start_date={{ request.GET.start_date }}&end_date={{ request.GET.end_date }}&download=true" class="btn btn-success">Download</a>
        </div>
    </div>

</div>

<!-- latest jquery-->
<script src="{% static 'assets/js/jquery.min.js' %}"></script>

<script>
    // Additional JavaScript can go here
</script>
{% endblock %}
